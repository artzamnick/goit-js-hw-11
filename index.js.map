{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '53386228-9ccf01ca4b721fbc8928b7547';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query, page = 1, per_page = 40) {\nreturn axios\n    .get(BASE_URL, {\n    params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page,\n        per_page,\n    },\n    })\n    .then(r => r.data);\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst GALLERY_SELECTOR = '.gallery';\nconst LOADER_SELECTOR = '.loader';\n\nconst galleryRef = document.querySelector(GALLERY_SELECTOR);\nconst loaderRef = document.querySelector(LOADER_SELECTOR);\nconst lightbox = new SimpleLightbox(`${GALLERY_SELECTOR} a`, {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    if (!galleryRef) return;\nconst markup = images\n    .map(img => {\n    return `\n    <li class=\"gallery__item\">\n        <a class=\"gallery__link\" href=\"${img.largeImageURL}\">\n        <div class=\"photo-card\">\n            <img class=\"photo-card__img\" src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n                <p class=\"info-item\"><b>Likes</b><br>${img.likes}</p>\n                <p class=\"info-item\"><b>Views</b><br>${img.views}</p>\n                <p class=\"info-item\"><b>Comments</b><br>${img.comments}</p>\n                <p class=\"info-item\"><b>Downloads</b><br>${img.downloads}</p>\n            </div>\n            </div>\n        </a>\n        </li>\n        `;\n    })\n    .join('');\n    galleryRef.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    if (!galleryRef) return;\n    galleryRef.innerHTML = '';\n    lightbox.refresh();\n}\n\nexport function showLoader() {\n    if (!loaderRef) return;\n    loaderRef.classList.add('is-active');\n}\n\nexport function hideLoader() {\n    if (!loaderRef) return;\n    loaderRef.classList.remove('is-active');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'loaders.css/loaders.min.css';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\n\nif (form) {\n    form.addEventListener('submit', onSearchSubmit);\n} else {\n    console.warn('Search form not found: #search-form');\n}\n\nfunction onSearchSubmit(event) {\n    event.preventDefault();\n    const query = input ? input.value.trim() : '';\n\nif (!query) {\n    iziToast.warning({\n        title: 'Увага!',\n        message: 'Будь ласка, введіть слово для пошуку.',\n        position: 'topRight',\n        timeout: 3000,\n    });\n    return;\n}\n\nclearGallery();\nshowLoader();\ngetImagesByQuery(query)\n    .then(data => {\n    if (!data || !Array.isArray(data.hits)) {\n        throw new Error('Unexpected response from API');\n    }\n\n    if (data.hits.length === 0) {\n        iziToast.info({\n            title: 'Немає результатів',\n            message: 'На жаль, зображення за цим запитом не знайдено. Спробуйте інший запит.',\n            position: 'topRight',\n            timeout: 4000,\n        });\n        return;\n    }\n\n    createGallery(data.hits);\n\n    iziToast.success({\n        title: 'Успіх!',\n        message: `Знайдено ${data.hits.length} зображень за запитом \"${query}\"`,\n        position: 'topRight',\n        timeout: 3000,\n    });\n    })\n    .catch(err => {\n        console.error(err);\n    iziToast.error({\n        title: 'Помилка!',\n        message: 'Не вдалося завантажити зображення. Перевірте підключення до інтернету або спробуйте ще раз.',\n        position: 'topRight',\n        timeout: 5000,\n    });\n    })\n    .finally(() => {\n    hideLoader();\n    });\n}"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","page","per_page","axios","r","GALLERY_SELECTOR","LOADER_SELECTOR","galleryRef","loaderRef","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","form","input","onSearchSubmit","event","iziToast","data","err"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAOC,EAAO,EAAGC,EAAW,GAAI,CACjE,OAAOC,EACF,IAAIL,EAAU,CACf,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAAC,CACH,CACL,CAAK,EACA,KAAKE,GAAKA,EAAE,IAAI,CACrB,CChBA,MAAMC,EAAmB,WACnBC,EAAkB,UAElBC,EAAa,SAAS,cAAcF,CAAgB,EACpDG,EAAY,SAAS,cAAcF,CAAe,EAClDG,EAAW,IAAIC,EAAe,GAAGL,CAAgB,KAAM,CACzD,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASM,EAAcC,EAAQ,CAClC,GAAI,CAACL,EAAY,OACrB,MAAMM,EAASD,EACV,IAAIE,GACE;AAAA;AAAA,yCAE8BA,EAAI,aAAa;AAAA;AAAA,gDAEVA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,uDAE3BA,EAAI,KAAK;AAAA,uDACTA,EAAI,KAAK;AAAA,0DACNA,EAAI,QAAQ;AAAA,2DACXA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMnE,EACA,KAAK,EAAE,EACRP,EAAW,mBAAmB,YAAaM,CAAM,EACjDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CACtBR,IACLA,EAAW,UAAY,GACvBE,EAAS,QAAO,EACpB,CAEO,SAASO,GAAa,CACpBR,GACLA,EAAU,UAAU,IAAI,WAAW,CACvC,CAEO,SAASS,GAAa,CACpBT,GACLA,EAAU,UAAU,OAAO,WAAW,CAC1C,CC9CA,MAAMU,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAEhDD,EACAA,EAAK,iBAAiB,SAAUE,CAAc,EAE9C,QAAQ,KAAK,qCAAqC,EAGtD,SAASA,EAAeC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMrB,EAAQmB,EAAQA,EAAM,MAAM,KAAM,EAAG,GAE/C,GAAI,CAACnB,EAAO,CACRsB,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,wCACT,SAAU,WACV,QAAS,GACjB,CAAK,EACD,MACJ,CAEAP,IACAC,IACAjB,EAAiBC,CAAK,EACjB,KAAKuB,GAAQ,CACd,GAAI,CAACA,GAAQ,CAAC,MAAM,QAAQA,EAAK,IAAI,EACjC,MAAM,IAAI,MAAM,8BAA8B,EAGlD,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,MAAO,oBACP,QAAS,yEACT,SAAU,WACV,QAAS,GACrB,CAAS,EACD,MACH,CAEDX,EAAcY,EAAK,IAAI,EAEvBD,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,YAAYC,EAAK,KAAK,MAAM,0BAA0BvB,CAAK,IACpE,SAAU,WACV,QAAS,GACjB,CAAK,CACL,CAAK,EACA,MAAMwB,GAAO,CACV,QAAQ,MAAMA,CAAG,EACrBF,EAAS,MAAM,CACX,MAAO,WACP,QAAS,8FACT,SAAU,WACV,QAAS,GACjB,CAAK,CACL,CAAK,EACA,QAAQ,IAAM,CACfL,GACJ,CAAK,CACL"}